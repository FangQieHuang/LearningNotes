<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="jquery-2.2.0.js"></script>
</head>
<body>
<script>
    var obj = { a: {val:1}, b: 222, c:333, d:444 };
    $.each( obj, function( key, val ) {
        console.log(key, val);
        console.log(this); // this指向val
    });

    function each ( obj,fn ) {
        if( 'length' in obj ) {
            for( var i = 0, len = obj.lenth; i<len; i++ ){
                fn.call( obj[ i ],i,obj[ i ]);
            }
        }else {
            for( var kry in obj ) {
                fn.call( obj[ key ],key,obj[ key ]);
            }
        }
    }


    each( obj,function( key,val ){
        console.log(key, val, this);
    });
</script>
</body>
</html>